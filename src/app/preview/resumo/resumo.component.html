<div class="container-box" #base>

    <!-- Título do componente -->
    <div class="p-grid p-dir-row">
        <div class="p-col-2"></div>
        <div class="p-col-8">
            <h3 style="text-align: center;margin-bottom: 10px;">{{title}}</h3>
        </div>
        <div class="p-col-2" style="display: flex; flex-direction: row; justify-content: end;" (click)="openConfig()">
            <i class="pi pi-cog" style="cursor: pointer;"></i>
        </div>
    </div>


    <!-- Botões para adicionar / remover colunas -->
    <button pButton type="button" icon="pi pi-minus" title="Remove Column" (click)="removeColumn()"
        [disabled]="columns.length === 1" style="margin-right: .5em" pTooltip="Remover coluna">
    </button>
    <button pButton type="button" icon="pi pi-plus" title="Add Column" (click)="addColumn()"
        [disabled]="columns.length === 3" pTooltip="Adicionar coluna">
    </button>

    <!-- Container geral dos textos -->
    <div class="p-grid" style="margin-top: .5em">

        <!-- Container para cada texto -->
        <div class="p-col" *ngFor="let col of columns; let i=index" [@animation]="'visible'">
            <div class="text-space"
                style="text-align: center; align-items: center; align-content: center; overflow-y: auto;">
                <input type="text" pInputText placeholder="Assunto" [(ngModel)]="columns[i].assunto"
                    [readonly]="!col.edit" style="margin-bottom: .5em;" />
                <br />
                <textarea rows="5" pInputTextarea [(ngModel)]="columns[i].body" [readonly]="!col.edit"></textarea>
                <br />

                <!-- Botões de salvar/editar -->
                <button pButton type="button" label="Salvar" (click)="save(i)" *ngIf="col.edit"
                    class="ui-button-success" style="margin-top: .5em;"></button>
                <button pButton type="button" label="Editar" (click)="edit(i)" *ngIf="!col.edit"
                    class="ui-button-warning" style="margin-top: .5em"></button>
            </div>
        </div>
    </div>
</div>

<p-sidebar [(visible)]="showConfigDialog" position="right" [baseZIndex]="10000">
    <div class="p-grid p-dir-col" style="justify-content: space-evenly;">
        <h3 style="margin: 20px; text-align: center; color:#555555; font-size: 1.3rem;">Cor de fundo do componente: {{title}}</h3>

        <div class="p-col-12" (click)="changeBgColor('purple')" class="color-selector"
            style="background-color: #b894f6 !important;">
            <p style="text-align: center;">Roxo</p>
        </div>

        <div class="p-col-12" (click)="changeBgColor('yellow')" class="color-selector"
            style="background-color: #fefb99 !important;">
            <p style="text-align: center;">Amarelo</p>
        </div>

        <div class="p-col-12" (click)="changeBgColor('blue')" class="color-selector"
            style="background-color: #94a1f6 !important;">
            <p style="text-align: center;">Azul</p>
        </div>

        <div class="p-col-12" (click)="changeBgColor('pink')" class="color-selector"
            style="background-color: #e994f6 !important;">
            <p style="text-align: center;">Rosa</p>
        </div>

        <div class="p-col-12" (click)="changeBgColor('red')" class="color-selector"
            style="background-color: #E57373 !important;">
            <p style="text-align: center;">Vermelho</p>
        </div>

        <div class="p-col-12" (click)="changeBgColor('green')" class="color-selector"
            style="background-color: #80CBC4 !important;">
            <p style="text-align: center;">Verde</p>
        </div>

        <div class="p-col-12" (click)="changeBgColor('brown')" class="color-selector"
            style="background-color: #BCAAA4 !important;">
            <p style="text-align: center;">Marrom</p>
        </div>

        <div class="p-col-12" (click)="changeBgColor('white')" class="color-selector"
            style="background-color: #fcfaf9 !important;">
            <p style="text-align: center;">Branco</p>
        </div>
    </div>
</p-sidebar>